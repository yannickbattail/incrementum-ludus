<!DOCTYPE html>
<html>
<head>
    <!--
      ----------------------------------------------------------------------------
      "THE BEER-WARE LICENSE" (Revision 42):
      <phk@FreeBSD.ORG> wrote this file.  As long as you retain this notice you
      can do whatever you want with this stuff. If we meet some day, and you think
      this stuff is worth it, you can buy me a beer in return.   Poul-Henning Kamp
      ----------------------------------------------------------------------------
    -->
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="shortcut icon" type="image/png" href="images/DesertIsland.svg" />
    <link rel="stylesheet" href="styles/DesertIsland.css">
    <title>Desert Island : Incremental game</title>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/json3/3.3.2/json3.min.js" integrity="sha256-fD5k74TlKQ/u8+bmlDxGGM07YJmVtte95uiYsGu/XVo=" crossorigin="anonymous"></script>
    <script src="../Engine/implementations/Resource.js"></script>
    <script src="../Engine/implementations/Quantity.js"></script>
    <script src="../Engine/implementations/Producer.js"></script>
    <script src="../Engine/implementations/Producer.js"></script>
    <script src="../Engine/implementations/Trigger.js"></script>
    <script src="../Engine/implementations/Crafter.js"></script>
    <script src="../Engine/implementations/Player.js"></script>
    <script src="../Engine/Engine.js"></script>

    <script src="Level.js"></script>
    <script src="Item.js"></script>
    <script src="Material.js"></script>
    <script src="RandomResource.js"></script>
    <script src="RandomRangeQuantity.js"></script>
    <script src="Scenario.js"></script>
    <script src="DesertIsland.js"></script>
    <script src="DesertIslandGui.js"></script>
</head>
<body id="body">
    <h1><img src="images/DesertIsland.svg" title="Desert island" alt="Desert island" class="titleIcon"/>
    Desert island</h1>
    <p><i>(inspired by the youtube channel: primitive technology)</i></p>
    <p>Your are alone in desert island. You need to survive. Start <b>collecting</b> some resources.</p>
    <div id="level"></div>
    <div id="storage"></div>
    <div id="producers"></div>
    <div id="crafters"></div>
    <!--<div id="triggers"></div>-->
    <br />
    <div id="tree"></div>
    <script>
        engine.run();
        var gui = new DesertIslandGui(engine);
        var updateGui = function () {
            document.getElementById('level').innerHTML = gui.displayLevel();
            document.getElementById('storage').innerHTML = gui.displayStorage();
            document.getElementById('producers').innerHTML = gui.displayProducers();
            document.getElementById('crafters').innerHTML = gui.displayCrafters();
            //document.getElementById('triggers').innerHTML = gui.displayTriggers();
            document.getElementById('tree').innerHTML = gui.displayTree();
            saveEngine(engine);
        }
        function stop() {
            window.clearInterval(interval);
        }
        function clearStorage() {
            window.localStorage.removeItem('DesertIsland');
            window.localStorage.removeItem('DesertIslandVersion');
        }
        function restart() {
            if (window.confirm('It will restart the game from zero. Are you sure?')) {
                stop();
                clearStorage();
                window.location.reload();
            }
        }
        function fastMode() {
            engine.FastMode=1000;
        }
        var interval = window.setInterval(updateGui, 500);
    </script>
    <button onclick="restart()">Restart</button>
    <div onclick="document.getElementById('debugMode').style.display='block';"><script>document.write(VERSION);</script></div>
    <div id="debugMode" style="display: none;">
        <div onclick="stop()">stop</div>
        <div onclick="clearStorage()">clear</div>
        <div onclick="fastMode()">fast mode</div>
        PS: you just <a href="http://www.perdu.com">lost</a> The <a href="https://en.wikipedia.org/wiki/The_Game_(mind_game)">Game</a>.
    </div>
</body>
</html>