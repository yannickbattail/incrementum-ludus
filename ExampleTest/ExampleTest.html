<!DOCTYPE html>
<html>
<head>
    <!--
      ----------------------------------------------------------------------------
      "THE BEER-WARE LICENSE" (Revision 42):
      <phk@FreeBSD.ORG> wrote this file.  As long as you retain this notice you
      can do whatever you want with this stuff. If we meet some day, and you think
      this stuff is worth it, you can buy me a beer in return.   Poul-Henning Kamp
      ----------------------------------------------------------------------------
    -->
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="shortcut icon" type="image/png" href="data:image/png;base64," />
    <style>
        body {
            font-family: Verdana, Arial, Helvetica, sans-serif;
            font-size: 8pt; 
            background-color: #222222;
            color: #dd6600;
        }
        table {
            border-color: #b37c4d;
            border-style: none;
        }
        td {
            border: none;
            background-color: #402000;
        }
        #console {
            width: 100%;
            min-height: 100px;
            border-style: inset;
            border-width: 1px;
            font-family: Times;
        }
    </style>
    <title>ExampleTest</title>
    <script src="../IncrementumLudus/implementations/Resource.js"></script>
    <script src="../IncrementumLudus/implementations/Quantity.js"></script>
    <script src="../IncrementumLudus/implementations/Producer.js"></script>
    <script src="../IncrementumLudus/implementations/Producer.js"></script>
    <script src="../IncrementumLudus/implementations/Trigger.js"></script>
    <script src="../IncrementumLudus/implementations/Crafter.js"></script>
    <script src="../IncrementumLudus/implementations/Player.js"></script>
    <script src="../IncrementumLudus/IncrementumLudus.js"></script>
    <script src="ExampleTest.js"></script>
    <script src="ExampleTestGui.js"></script>
</head>
<body id="body">
    status
    <div id="status"></div>
    Storage
    <div id="storage"></div>
    Producers
    <div id="sources"></div>
    Crafters
    <div id="crafters"></div>
    Triggers
    <div id="triggers"></div>
    <script>
        engine.run(500, saveIncrementumLudus);
        var gui = new ExampleTestGui(engine);
        function updateGui() {
            document.getElementById('status').innerHTML = gui.displayStatus();
            document.getElementById('storage').innerHTML = gui.displayStorage();
            document.getElementById('sources').innerHTML = gui.displayProducers();
            document.getElementById('crafters').innerHTML = gui.displayCrafters();
            document.getElementById('triggers').innerHTML = gui.displayTriggers();
            saveIncrementumLudus(engine);
        }
        function stop() {
            window.clearInterval(interval);
        }
        function clearStorage() {
            window.localStorage.removeItem('ExampleTest');
            window.localStorage.removeItem('ExampleTestVersion');
        }
        function restart() {
            stop();
            clearStorage();
            window.location.reload();
        }
        var interval = window.setInterval(updateGui, 1000);

    </script>
    <button onclick="restart()">Restart</button>
    <div onclick="stop()">stop</div>
    <div onclick="clearStorage()">clear</div>
</body>
</html>